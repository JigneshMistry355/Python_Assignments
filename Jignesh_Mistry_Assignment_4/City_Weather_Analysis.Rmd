
---
title: "City Weather Analysis"
author: "Jignesh Mistry"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(dplyr)
library(ggplot2)
library(lubridate)
```

# Introduction

Weather plays a significant role in shaping our daily lives, influencing everything from transportation to health.
This report focuses on analyzing temperature, humidity, and precipitation data from three major Indian cities: Mumbai, Delhi, and Bangalore.
The objective is to understand weather patterns, compare key parameters, and derive meaningful insights.
By computing weekly averages and visualizing trends, we can identify the hottest and coldest cities, rainfall peaks, and humidity variations.
This analysis can help city planners, businesses, and individuals prepare for changing weather conditions.

# Task 1: Data Import & Inspection

```{r data-import}
weather_data <- read.csv("weather_data.csv")

# Display first few rows
head(weather_data)

# Display column names
colnames(weather_data)

# Check for missing values
sum(is.na(weather_data))
```

# Task 2: Data Cleaning & Manipulation

```{r data-cleaning}
# Convert Date_Time to Date format
weather_data$Date_Time <- as.Date(weather_data$Date_Time)

# Filter only 3 cities (already only 3 in dataset, but let's keep code generic)
selected_cities <- c("Mumbai", "Delhi", "Bangalore")
weather_data <- weather_data %>% filter(Location %in% selected_cities)

# Create new column: Temperature in Fahrenheit
weather_data <- weather_data %>% mutate(Temperature_F = Temperature_C * 9/5 + 32)

# Calculate weekly averages
weather_data <- weather_data %>% mutate(Week = isoweek(Date_Time))
weekly_avg <- weather_data %>% group_by(Location, Week) %>%
  summarise(Avg_Temp = mean(Temperature_C),
            Avg_Humidity = mean(Humidity_pct),
            Avg_Rainfall = mean(Precipitation_mm),
            .groups = "drop")

head(weekly_avg)
```

# Task 3: Data Analysis

```{r data-analysis}
# Hottest and coldest city based on average temperature
city_avg_temp <- weather_data %>% group_by(Location) %>% summarise(Mean_Temp = mean(Temperature_C))
hottest_city <- city_avg_temp %>% filter(Mean_Temp == max(Mean_Temp))
coldest_city <- city_avg_temp %>% filter(Mean_Temp == min(Mean_Temp))

hottest_city
coldest_city

# Day with highest rainfall per city
highest_rainfall <- weather_data %>% group_by(Location) %>%
  filter(Precipitation_mm == max(Precipitation_mm)) %>% arrange(Location)
highest_rainfall

# Compare average humidity levels between cities
avg_humidity <- weather_data %>% group_by(Location) %>% summarise(Mean_Humidity = mean(Humidity_pct))
avg_humidity
```

# Task 4: Visualization

```{r plots, fig.width=8, fig.height=5}
# 1. Line graph - Temperature trends
ggplot(weather_data, aes(x = Date_Time, y = Temperature_C, color = Location)) +
  geom_line(size = 1) +
  labs(title = "Daily Temperature Trends", x = "Date", y = "Temperature (Â°C)") +
  theme_minimal()

# 2. Bar plot - Weekly average rainfall comparison
ggplot(weekly_avg, aes(x = factor(Week), y = Avg_Rainfall, fill = Location)) +
  geom_bar(stat="identity", position = "dodge") +
  labs(title = "Weekly Average Rainfall", x = "Week", y = "Rainfall (mm)") +
  theme_minimal()

# 3. Boxplot - Humidity distribution across cities
ggplot(weather_data, aes(x = Location, y = Humidity_pct, fill = Location)) +
  geom_boxplot() +
  labs(title = "Humidity Distribution Across Cities", x = "City", y = "Humidity (%)") +
  theme_minimal()
```

# Conclusion

This analysis highlights significant weather differences between Mumbai, Delhi, and Bangalore.
Mumbai recorded the highest average temperatures and rainfall, while Delhi had the lowest humidity.
Bangalore maintained moderate conditions with relatively balanced weather trends.
Such insights can be used by policymakers and residents to prepare for seasonal changes and improve city-level planning.
